<template>
    <div>
        <v-row>
            <v-col md="12" lg="12">
                <ol v-show="viewText">
                    <li style="text-align:left;margin-bottom: 10px;" v-for="(item, ind) in array_text">
                        <a :style="getArray.find(f=>f.info == item) ? 'color:#00b500' : ''" @click="changeArray({info:item, check: false, sis: []})" :key="ind" href="javascript:void(0);" class="link ml-2 mr-2">{{item}}</a>
                    </li>
                    <span style="text-align:left;" v-show="yes"> Без патологий </span>
                </ol>
            </v-col>
            <v-col v-show="showName" md="12" lg="12">
                <p>{{nameCheck}}</p>
            </v-col>
            <v-col v-show="show" md="12" lg="12">
                <svg :width="width" :height="height" :viewBox="viewBox" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M175.462 70.1056C174.527 70.1056 173.592 69.8714 172.89 69.4031C172.423 69.1689 172.189 68.4664 172.189 67.2956C172.423 63.783 176.865 49.2644 178.034 47.6252L178.267 47.3911H178.501C182.008 46.2202 184.579 47.1569 186.45 49.967C187.385 51.372 187.619 53.2453 186.917 55.3528C186.45 56.992 185.748 58.6312 184.813 61.2071C184.346 62.6121 184.112 63.783 183.878 64.9538C183.411 67.5297 183.177 69.8714 178.735 69.8714C178.501 69.8714 178.267 69.8714 177.8 70.1056C177.098 69.8714 176.163 70.1056 175.462 70.1056ZM179.436 49.0302C178.267 51.3719 174.527 64.0172 174.293 67.5297C174.293 67.7639 174.293 67.998 174.293 67.998C174.761 68.4664 176.631 68.2322 177.566 67.998C178.034 67.998 178.267 67.998 178.735 67.7639C181.54 67.7639 181.54 66.8272 182.008 64.2513C182.242 63.0804 182.475 61.4413 183.177 60.0363C184.112 57.6946 184.813 56.0554 185.281 54.4162C185.748 53.0112 185.515 51.6061 185.047 50.6694C183.878 49.4986 182.475 48.0935 179.436 49.0302Z" fill="#E8A96B"/>
                    <path d="M126.601 48.0935C122.393 46.9227 120.522 48.796 119.821 50.2011C118.886 51.6061 118.886 53.2453 119.354 54.6503C119.821 56.0553 120.289 57.6945 121.458 60.2704C123.328 64.7196 121.458 68.4663 126.601 68.4663C128.237 68.4663 132.212 69.6371 132.212 67.0613C131.978 63.7829 127.536 49.7327 126.601 48.0935Z" fill="#FCC992"/>
                    <path d="M129.874 70.1058C129.173 70.1058 128.238 69.8716 127.537 69.8716C127.069 69.8716 126.835 69.8716 126.601 69.6375C122.393 69.6375 121.926 67.0616 121.458 64.7198C121.224 63.549 120.991 62.144 120.523 60.9731C119.588 58.6314 118.887 56.758 118.419 55.1188C117.951 53.2454 118.185 51.1379 118.887 49.7329C120.523 46.9228 123.329 46.2203 126.835 47.157H127.069L127.303 47.3912C128.472 49.0304 132.68 63.549 133.147 67.0616C133.147 67.9982 132.914 68.7007 132.446 69.1691C131.745 69.8716 130.81 70.1058 129.874 70.1058ZM124.03 48.7962C122.16 48.7962 121.224 49.7329 120.523 50.9038C119.822 51.8404 119.822 53.2455 120.289 54.6505C120.757 56.0555 121.458 57.9289 122.393 60.2706C123.095 61.9098 123.328 63.3148 123.562 64.4857C124.03 67.0615 124.03 67.9982 126.835 67.9982C127.303 67.9982 127.537 67.9982 128.004 68.2324C128.939 68.4666 130.81 68.7008 131.277 68.2324C131.277 68.2324 131.511 67.9982 131.277 67.764C131.043 64.4857 127.069 51.6062 126.134 49.2645C125.199 48.7962 124.731 48.7962 124.03 48.7962Z" fill="#E8A96B"/>
                    
                    <g v-for="( sk, ind ) in skins" :key="ind">
                        <path :class="[sk.class, height !== '381' ? sk.class_stud : '']" :d="sk.d" @click="check ? setJoint(sk) : ''" />
                    </g>

                    <path d="M176.865 76.8969C177.099 77.1311 177.332 77.1311 177.332 76.8969C179.904 77.8336 182.476 75.726 183.645 73.1502C184.58 71.0426 184.814 68.4668 185.982 66.3593C186.684 64.9542 187.619 63.3151 187.619 61.6759C187.619 59.3342 185.749 54.4166 183.177 54.6508C181.774 54.8849 180.839 56.5241 180.372 57.695C179.436 59.3341 178.735 61.2075 178.268 63.0808C177.099 64.9542 176.631 67.2959 176.397 69.6376C175.93 71.7452 175.696 75.0235 176.865 76.8969Z" fill="#F4C08E"/>
                    <path d="M176.163 69.8719C176.397 67.5302 176.865 65.1884 178.033 63.3151C178.501 61.4417 179.436 59.8026 180.138 57.9292C180.605 56.7584 181.54 55.1191 182.709 54.8849C181.306 56.7583 180.839 59.1001 181.306 61.6759C181.306 61.9101 181.54 61.9101 181.774 61.9101C183.177 61.4417 185.047 59.8026 186.216 61.4418C186.683 62.1443 186.917 62.8468 186.917 63.7835C186.683 64.7201 186.216 65.6568 185.748 66.3593C184.579 68.4669 184.346 70.8086 183.41 73.1503C182.475 75.492 179.67 77.8337 177.098 76.897C176.865 77.1312 176.631 77.1312 176.631 76.897C175.696 75.0236 175.929 71.7453 176.163 69.8719Z" fill="#FBD0B4"/>
                    <path d="M176.865 76.8969C177.099 77.1311 177.332 77.1311 177.332 76.8969C179.904 77.8336 182.476 75.726 183.645 73.1502C184.58 71.0426 184.814 68.4668 185.982 66.3593C186.684 64.9542 187.619 63.3151 187.619 61.6759C187.619 59.3342 185.749 54.4166 183.177 54.6508C181.774 54.8849 180.839 56.5241 180.372 57.695C179.436 59.3341 178.735 61.2075 178.268 63.0808C177.099 64.9542 176.631 67.2959 176.397 69.6376C175.93 71.7452 175.696 75.0235 176.865 76.8969ZM178.735 62.6125C178.735 62.3784 178.735 62.3784 178.735 62.6125C179.203 61.4417 179.67 60.505 180.138 59.5683C180.839 58.3974 182.008 55.5875 183.645 55.8216C185.281 56.0558 186.918 59.1 187.151 60.505C187.619 62.1442 187.151 63.5492 186.45 65.1884C185.281 67.5301 184.346 69.8718 183.177 72.4476C182.476 74.0868 181.774 75.726 180.138 76.1943C179.203 76.4285 178.501 76.4285 177.566 76.6627C176.631 71.7452 176.631 66.5934 178.735 62.6125Z" fill="#BF8245"/>
                    <path d="M122.393 77.131C122.159 77.3651 121.925 77.3651 121.925 77.131C119.354 78.0677 116.782 75.4918 115.847 73.1501C115.145 70.8084 114.912 68.4667 113.976 66.125C113.275 64.72 112.574 63.0808 112.574 61.4416C112.808 59.0999 114.678 54.1823 117.483 54.8848C118.886 55.119 119.587 56.9924 120.055 58.1632C120.756 59.8024 121.458 61.6758 121.925 63.5491C122.86 65.6567 123.328 67.9983 123.328 70.1059C123.795 72.2134 123.795 75.2576 122.393 77.131Z" fill="#F4C08E"/>
                    <path d="M123.562 70.1058C123.562 67.7641 123.095 65.4224 122.16 63.549C121.692 61.6756 120.991 59.8023 120.289 58.1631C119.822 56.9922 119.12 55.353 117.951 54.8846C119.12 56.758 119.588 59.0997 118.887 61.9098C118.887 62.1439 118.653 62.144 118.419 62.144C117.016 61.6756 115.38 60.0365 113.977 61.4415C113.276 62.144 113.042 62.8465 113.042 63.549C113.276 64.4857 113.743 65.4224 114.211 66.1249C115.146 68.2324 115.38 70.8083 116.081 73.15C117.016 75.7259 119.354 78.0676 122.16 77.1309C122.16 77.3651 122.627 77.3651 122.627 77.1309C123.796 75.2575 123.796 72.2133 123.562 70.1058Z" fill="#FBD0B4"/>
                    <path d="M123.562 70.1055C123.562 67.7638 123.095 65.4221 122.159 63.5488C121.692 61.6754 120.991 59.8021 120.289 58.1629C119.822 56.992 118.886 55.1186 117.718 54.8845C114.912 54.4161 113.042 59.3337 112.808 61.4413C112.574 63.0804 113.509 64.7196 114.211 66.1246C115.146 68.2322 115.38 70.808 116.081 73.1497C117.016 75.7256 119.354 78.0672 122.159 77.1306C122.159 77.3647 122.627 77.3647 122.627 77.1306C123.796 75.2572 123.796 72.213 123.562 70.1055ZM121.926 76.4281C120.991 76.1939 120.289 76.1939 119.354 75.9597C117.718 75.2572 117.016 73.6181 116.549 71.9789C115.613 69.403 114.912 66.8271 113.743 64.4854C113.042 63.0804 112.808 61.4412 113.276 59.802C113.743 58.1629 115.38 55.3528 117.016 55.3528C118.419 55.3528 119.588 58.3971 120.289 59.3337C120.757 60.2704 121.224 61.4412 121.458 62.3779C123.562 67.0613 123.095 71.9789 121.926 76.4281Z" fill="#BF8245"/>
                    <path d="M194.866 30.531C194.633 30.7651 194.399 30.7652 194.399 30.9993C191.126 29.8285 188.32 26.5501 185.983 23.7401C183.645 20.93 182.008 17.8858 179.904 15.0757C177.566 11.7974 172.891 6.64561 168.916 8.05063C166.111 4.53808 162.37 3.13311 158.396 1.96226C152.318 0.0889022 146.473 -0.145268 140.395 1.96226C134.316 4.06979 128.939 8.05066 124.497 13.2024C121.926 16.2466 119.12 18.8225 116.081 21.1642C114.679 22.1009 113.51 23.0375 112.107 23.7401C110.704 24.4426 109.302 25.1451 107.899 24.6767C107.899 24.6767 107.665 24.9109 107.899 24.9109C108.133 24.9109 108.133 25.1451 108.366 25.1451C108.366 25.1451 108.366 25.1451 108.366 25.3793C109.535 27.2526 111.172 27.721 113.042 27.4868C112.341 28.1893 111.873 28.8918 111.406 29.5943C109.302 32.8727 109.068 36.6194 109.068 40.6003H109.302C109.302 40.3662 109.535 39.8978 109.535 39.6636C110.47 37.5561 111.406 35.9169 112.808 34.5119C110.704 40.3662 110.938 46.9229 112.808 53.2455C113.977 57.2264 115.847 60.9731 117.718 64.4856C119.822 68.4665 121.692 72.6816 123.329 76.8967C123.329 76.8967 123.329 76.8967 123.329 77.1308C124.264 80.175 125.433 82.751 127.537 84.8585C129.874 87.4344 132.914 88.8393 135.953 90.2444C142.966 93.0544 150.681 94.2253 157.928 93.2886C164.708 92.5861 170.085 88.8394 174.06 82.2826C176.164 78.77 177.8 74.555 179.67 70.5741C181.774 66.359 184.814 62.8464 186.45 58.3972C187.385 56.2897 187.385 53.7138 187.151 51.3721C187.385 52.0746 187.619 53.0113 187.619 53.7138C187.619 53.948 187.619 53.948 187.619 54.1822C189.957 49.4988 192.528 42.7078 190.424 37.3219C191.593 38.4927 192.762 40.1319 192.996 42.0053C192.996 42.2395 192.996 42.2395 192.996 42.4737C192.996 42.4737 193.23 42.7078 193.23 42.4737C193.23 42.4737 193.23 42.4737 193.23 42.2395C194.165 39.1953 193.697 35.4486 191.827 32.8727C192.762 33.1068 194.399 32.4043 194.866 30.531C195.1 30.531 195.1 30.531 194.866 30.531Z" fill="#583415"/>
                    <path d="M152.317 93.5228C146.473 93.5228 140.628 92.352 135.485 90.2444C132.446 89.0736 129.407 87.4344 127.069 84.8586C124.965 82.751 123.562 80.1751 122.861 77.1309C122.861 77.1309 122.861 76.8968 122.627 76.8968C120.523 71.7451 118.653 67.9983 117.016 64.4858C115.146 60.9732 113.276 57.2265 112.107 53.2456C110.236 47.1572 110.236 41.0688 111.639 35.9171C110.938 37.088 110.003 38.2588 109.535 39.8979C109.535 39.8979 109.535 39.898 109.535 40.1321C109.535 40.3663 109.301 40.6004 109.301 40.8346C109.301 41.0688 109.067 41.0688 109.067 41.0688L108.834 40.8346V40.6005V40.3663C109.067 36.3854 109.067 32.6387 111.405 29.3603C111.639 28.892 112.107 28.4236 112.574 27.9553C110.938 27.9553 109.535 27.2528 108.6 25.8478C108.6 25.8478 108.6 25.8477 108.6 25.6136H108.366C108.132 25.6136 108.132 25.3794 108.132 25.1453C108.132 24.9111 108.366 24.6769 108.6 24.6769C108.834 24.6769 109.067 24.6769 109.301 24.6769C110.47 24.6769 111.639 24.2086 112.574 23.5061C113.977 22.8036 115.38 21.8669 116.549 20.9302C119.354 18.8227 122.159 16.2468 124.965 12.9684C129.64 7.58252 135.251 3.60165 140.862 1.49412C146.473 -0.379237 152.317 -0.613406 158.863 1.49412C162.604 2.66497 166.578 4.07 169.384 7.58255C172.423 6.4117 176.163 8.98757 180.371 14.6076C181.307 15.7785 182.008 16.9494 182.943 18.3544C184.112 19.9936 185.281 21.8669 186.45 23.2719C188.788 26.0819 191.359 29.1261 194.632 30.5312C194.866 30.5312 194.866 30.297 195.1 30.297C195.334 30.0628 195.567 30.297 195.801 30.5312C195.801 30.7653 195.801 30.7654 195.801 30.9995C195.1 32.4045 193.931 33.1071 192.528 33.3412C194.165 35.6829 194.632 39.4296 193.697 42.4738V42.708C193.697 42.9422 193.23 42.9422 192.996 42.708C192.996 42.708 192.996 42.4738 192.996 42.2396V42.0055C192.996 40.6004 192.294 39.4296 191.359 38.2588C192.762 43.8789 189.957 50.6698 188.086 54.1823V54.4165H187.853C187.853 54.4165 187.853 54.4165 187.619 54.4165C187.619 55.5873 187.385 56.9924 186.917 58.1632C185.982 60.7391 184.346 63.0808 182.943 65.1883C181.774 66.8275 180.839 68.4667 179.904 70.34C179.203 71.745 178.735 73.1501 178.034 74.3209C176.865 76.8968 175.696 79.4726 174.293 81.8143C170.319 88.3711 164.708 92.1178 157.928 93.0545C155.824 93.5228 154.188 93.5228 152.317 93.5228ZM113.042 32.6387L112.574 34.2779C110.704 39.6638 110.47 45.9864 112.574 52.7773C113.743 56.7582 115.613 60.5049 117.484 64.0175C119.354 67.53 120.99 71.5109 123.094 76.4284V76.6626C124.03 79.7068 125.199 82.0485 127.303 84.3902C129.64 86.9661 132.68 88.3711 135.719 89.542C142.499 92.352 150.213 93.5228 157.461 92.5861C164.007 91.8836 169.384 88.137 173.358 81.5802C174.761 79.2385 175.93 76.6626 177.099 74.0867C177.8 72.6817 178.267 71.2767 178.969 69.8717C179.904 67.9984 181.073 66.3591 182.008 64.7199C183.411 62.6124 184.813 60.2707 185.749 57.6949C186.684 55.5873 186.45 53.0115 186.45 50.9039L186.216 48.0939L186.917 50.9039C187.151 51.6065 187.385 52.309 187.385 53.0115C189.255 49.0306 191.827 42.4738 189.723 37.3221L189.255 36.1512L190.19 37.088C191.126 38.0246 192.294 39.4296 192.762 41.303C193.23 38.4929 192.762 35.4487 191.126 33.3412L190.658 32.6387H191.359C191.593 32.6387 191.593 32.6387 191.827 32.6387C192.996 32.6387 193.931 32.1703 194.632 31.4678C191.359 30.0628 188.554 27.0187 186.216 24.2086C184.813 22.5694 183.644 20.9302 182.476 19.0569C181.774 17.886 180.839 16.7152 179.904 15.5443C175.696 9.92423 172.189 7.58255 169.15 8.7534H168.916V8.51921C166.111 5.00667 162.37 3.60163 158.63 2.43079C152.084 0.557428 146.473 0.557428 140.862 2.43079C135.251 4.30414 129.874 8.28507 125.199 13.671C122.393 16.9494 119.588 19.5252 116.782 21.6327C115.613 22.5694 114.211 23.5061 112.808 24.2086C111.873 24.677 110.938 25.1453 109.769 25.3795L110.236 25.6136L109.067 25.8478C110.003 27.0186 111.405 27.7211 113.276 27.487L114.211 27.2528L113.509 27.9553C112.808 28.6578 112.34 29.3603 111.873 30.0629C110.003 32.8729 109.769 35.9171 109.535 39.4296C110.47 37.3221 111.639 35.9171 112.574 34.2779L113.042 32.6387Z" fill="#301000"/>
                    <path opacity="0.6" d="M136.888 4.53828C140.161 3.83577 143.668 3.36744 147.175 3.60161C153.253 3.83578 160.267 5.00662 164.241 10.3925C164.475 10.6267 164.241 10.8609 164.007 10.8609C161.903 10.8609 159.565 10.6267 157.461 10.6267C161.903 10.1584 167.981 13.4368 170.787 17.1835C171.722 18.5885 172.657 19.9935 173.125 21.6327C172.423 19.9935 171.956 18.3543 171.021 16.9493C170.085 15.3101 168.449 14.3735 167.514 12.5001C167.514 12.2659 167.514 12.0317 167.748 12.0317C170.553 10.6267 174.294 12.7343 176.398 14.6076C177.333 15.3101 178.268 16.0126 178.969 16.9493C176.164 13.9051 171.488 8.98752 167.046 10.6267C164.007 7.34833 159.799 5.94331 155.591 4.77246C149.045 3.13327 142.499 2.8991 135.953 4.77246C134.317 5.2408 132.68 5.94335 131.277 6.64586C133.148 5.70918 135.018 5.00662 136.888 4.53828Z" fill="#501F00"/>
                </svg>
            </v-col>
        </v-row>
    </div>
</template>

<script>
import skinRear from './skinRear.json'
import {mapMutations, mapGetters} from 'vuex'
import audioAstma from '../assets/astma.mp3'

export default {
    props: {
        level: {type: Number, default: () => 0},
        viewBox: {type: String, default: () => '0 0 321 681'},
        width: {type: String, default: () => '303'},
        height: {type: String, default: () => '381'},
        check: {type: Boolean, default: () => false},
        viewText: {type: Boolean, default: () => false},
        version: {type: String, default: () => "info"},
        show: {type: Boolean, default: () => false},
        showName: {type: Boolean, default: () => false}
    },
    data() {
        return {
            nameCheck: '',
            yes: false,
            skins: skinRear,
            array_text: [],
            astma: new Audio(audioAstma)
        }
    },
    watch: {
        version(val) {
            if(val === 'info') this.array_text = []
            this.astma.pause();
            this.astma.currentTime = 0;
        }
    },
    computed: {
        ...mapGetters({
            getArray: 'stor/getArray'
        })
    },
    methods: {
        ...mapMutations({
            changeArray: 'stor/changeArray'
        }),
        setJoint(e) {
            if(this.version == 'a' && e.id == 3) {
                this.astma.play()
            } else {
                this.astma.pause();
                this.astma.currentTime = 0;
            }

            this.nameCheck = e.name

            if(e[this.version]&&e[this.version].length > 0) {
                this.array_text = e[this.version]
                this.yes = false
            } else {
                this.array_text = []
                this.yes = true
            }

            this.skins.forEach(el => {
                el.class = 'origin'
                el.level2 = false
                el.level3 = false
            })
            
            e.class = e.class == 'origin' ? 'check' : 'origin'

            if(this.level == 2) e.level2 = true
            else if(this.level == 3) e.level3 = true
        }
    }
}
</script>

<style scoped>
.origin {
    cursor: pointer;
    fill: #F4C08E;
    stroke: #BF8245;
    stroke-width: 2;
    stroke-miterlimit: 10;
}
.check {
    fill: #FFF0E1;
    stroke: #BA0808;
    cursor: pointer;
}
.red {
    cursor: pointer;
    fill: #BA0808;
    stroke: #BA0808;
    stroke-width: 2;
    stroke-miterlimit: 10;
}
</style>